// Generated by CoffeeScript 1.6.3
(function() {
  var $, Controller, Events, Log, Model, Module, Spine, createObject, isArray, isBlank, makeArray, moduleKeywords,
    __slice = [].slice,
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Events = {
    bind: function(ev, callback) {
      var calls, evs, name, _i, _len;
      evs = ev.split(' ');
      calls = this.hasOwnProperty('_callbacks') && this._callbacks || (this._callbacks = {});
      for (_i = 0, _len = evs.length; _i < _len; _i++) {
        name = evs[_i];
        calls[name] || (calls[name] = []);
        calls[name].push(callback);
      }
      return this;
    },
    one: function(ev, callback) {
      var handler;
      return this.bind(ev, handler = function() {
        this.unbind(ev, handler);
        return callback.apply(this, arguments);
      });
    },
    trigger: function() {
      var args, callback, ev, list, _i, _len, _ref;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      ev = args.shift();
      list = this.hasOwnProperty('_callbacks') && ((_ref = this._callbacks) != null ? _ref[ev] : void 0);
      if (!list) {
        return;
      }
      for (_i = 0, _len = list.length; _i < _len; _i++) {
        callback = list[_i];
        if (callback.apply(this, args) === false) {
          break;
        }
      }
      return true;
    },
    listenTo: function(obj, ev, callback) {
      obj.bind(ev, callback);
      this.listeningTo || (this.listeningTo = []);
      this.listeningTo.push({
        obj: obj,
        ev: ev,
        callback: callback
      });
      return this;
    },
    listenToOnce: function(obj, ev, callback) {
      var handler, listeningToOnce;
      listeningToOnce = this.listeningToOnce || (this.listeningToOnce = []);
      obj.bind(ev, handler = function() {
        var i, idx, lt, _i, _len;
        idx = -1;
        for (i = _i = 0, _len = listeningToOnce.length; _i < _len; i = ++_i) {
          lt = listeningToOnce[i];
          if (lt.obj === obj) {
            if (lt.ev === ev && lt.callback === callback) {
              idx = i;
            }
          }
        }
        obj.unbind(ev, handler);
        if (idx !== -1) {
          listeningToOnce.splice(idx, 1);
        }
        return callback.apply(this, arguments);
      });
      listeningToOnce.push({
        obj: obj,
        ev: ev,
        callback: callback,
        handler: handler
      });
      return this;
    },
    stopListening: function(obj, events, callback) {
      var ev, evts, i, idx, listeningTo, lt, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _results;
      if (arguments.length === 0) {
        _ref = [this.listeningTo, this.listeningToOnce];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          listeningTo = _ref[_i];
          if (!listeningTo) {
            continue;
          }
          for (_j = 0, _len1 = listeningTo.length; _j < _len1; _j++) {
            lt = listeningTo[_j];
            lt.obj.unbind(lt.ev, lt.handler || lt.callback);
          }
        }
        this.listeningTo = void 0;
        return this.listeningToOnce = void 0;
      } else if (obj) {
        _ref1 = [this.listeningTo, this.listeningToOnce];
        _results = [];
        for (_k = 0, _len2 = _ref1.length; _k < _len2; _k++) {
          listeningTo = _ref1[_k];
          if (!listeningTo) {
            continue;
          }
          events = events ? events.split(' ') : [void 0];
          _results.push((function() {
            var _l, _len3, _results1;
            _results1 = [];
            for (_l = 0, _len3 = events.length; _l < _len3; _l++) {
              ev = events[_l];
              _results1.push((function() {
                var _m, _ref2, _results2;
                _results2 = [];
                for (idx = _m = _ref2 = listeningTo.length - 1; _ref2 <= 0 ? _m <= 0 : _m >= 0; idx = _ref2 <= 0 ? ++_m : --_m) {
                  lt = listeningTo[idx];
                  if ((!ev) || (ev === lt.ev)) {
                    lt.obj.unbind(lt.ev, lt.handler || lt.callback);
                    if (idx !== -1) {
                      _results2.push(listeningTo.splice(idx, 1));
                    } else {
                      _results2.push(void 0);
                    }
                  } else if (ev) {
                    evts = lt.ev.split(' ');
                    if (~(i = evts.indexOf(ev))) {
                      evts.splice(i, 1);
                      lt.ev = $.trim(evts.join(' '));
                      _results2.push(lt.obj.unbind(ev, lt.handler || lt.callback));
                    } else {
                      _results2.push(void 0);
                    }
                  } else {
                    _results2.push(void 0);
                  }
                }
                return _results2;
              })());
            }
            return _results1;
          })());
        }
        return _results;
      }
    },
    unbind: function(ev, callback) {
      var cb, evs, i, list, name, _i, _j, _len, _len1, _ref;
      if (arguments.length === 0) {
        this._callbacks = {};
        return this;
      }
      if (!ev) {
        return this;
      }
      evs = ev.split(' ');
      for (_i = 0, _len = evs.length; _i < _len; _i++) {
        name = evs[_i];
        list = (_ref = this._callbacks) != null ? _ref[name] : void 0;
        if (!list) {
          continue;
        }
        if (!callback) {
          delete this._callbacks[name];
          continue;
        }
        for (i = _j = 0, _len1 = list.length; _j < _len1; i = ++_j) {
          cb = list[i];
          if (!(cb === callback)) {
            continue;
          }
          list = list.slice();
          list.splice(i, 1);
          this._callbacks[name] = list;
          break;
        }
      }
      return this;
    }
  };

  Events.on = Events.bind;

  Events.off = Events.unbind;

  Log = {
    trace: true,
    logPrefix: '(App)',
    log: function() {
      var args;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      if (!this.trace) {
        return;
      }
      if (this.logPrefix) {
        args.unshift(this.logPrefix);
      }
      if (typeof console !== "undefined" && console !== null) {
        if (typeof console.log === "function") {
          console.log.apply(console, args);
        }
      }
      return this;
    }
  };

  moduleKeywords = ['included', 'extended'];

  Module = (function() {
    Module.include = function(obj) {
      var key, value, _ref;
      if (!obj) {
        throw new Error('include(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (__indexOf.call(moduleKeywords, key) < 0) {
          this.prototype[key] = value;
        }
      }
      if ((_ref = obj.included) != null) {
        _ref.apply(this);
      }
      return this;
    };

    Module.extend = function(obj) {
      var key, value, _ref;
      if (!obj) {
        throw new Error('extend(obj) requires obj');
      }
      for (key in obj) {
        value = obj[key];
        if (__indexOf.call(moduleKeywords, key) < 0) {
          this[key] = value;
        }
      }
      if ((_ref = obj.extended) != null) {
        _ref.apply(this);
      }
      return this;
    };

    Module.proxy = function(func) {
      var _this = this;
      return function() {
        return func.apply(_this, arguments);
      };
    };

    Module.prototype.proxy = function(func) {
      var _this = this;
      return function() {
        return func.apply(_this, arguments);
      };
    };

    function Module() {
      if (typeof this.init === "function") {
        this.init.apply(this, arguments);
      }
    }

    return Module;

  })();

  Model = (function(_super) {
    __extends(Model, _super);

    Model.extend(Events);

    Model.records = [];

    Model.irecords = {};

    Model.attributes = [];

    Model.configure = function() {
      var attributes, name;
      name = arguments[0], attributes = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this.className = name;
      this.deleteAll();
      if (attributes.length) {
        this.attributes = attributes;
      }
      this.attributes && (this.attributes = makeArray(this.attributes));
      this.attributes || (this.attributes = []);
      this.unbind();
      return this;
    };

    Model.toString = function() {
      return "" + this.className + "(" + (this.attributes.join(", ")) + ")";
    };

    Model.find = function(id) {
      var record;
      record = this.exists(id);
      if (!record) {
        throw new Error("\"" + this.className + "\" model could not find a record for the ID \"" + id + "\"");
      }
      return record;
    };

    Model.exists = function(id) {
      var _ref;
      return (_ref = this.irecords[id]) != null ? _ref.clone() : void 0;
    };

    Model.addRecord = function(record) {
      if (record.id && this.irecords[record.id]) {
        this.irecords[record.id].remove();
      }
      record.id || (record.id = record.cid);
      this.records.push(record);
      this.irecords[record.id] = record;
      return this.irecords[record.cid] = record;
    };

    Model.refresh = function(values, options) {
      var record, records, result, _i, _len;
      if (options == null) {
        options = {};
      }
      if (options.clear) {
        this.deleteAll();
      }
      records = this.fromJSON(values);
      if (!isArray(records)) {
        records = [records];
      }
      for (_i = 0, _len = records.length; _i < _len; _i++) {
        record = records[_i];
        this.addRecord(record);
      }
      this.sort();
      result = this.cloneArray(records);
      this.trigger('refresh', result, options);
      return result;
    };

    Model.select = function(callback) {
      var record, _i, _len, _ref, _results;
      _ref = this.records;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        record = _ref[_i];
        if (callback(record)) {
          _results.push(record.clone());
        }
      }
      return _results;
    };

    Model.findByAttribute = function(name, value) {
      var record, _i, _len, _ref;
      _ref = this.records;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        record = _ref[_i];
        if (record[name] === value) {
          return record.clone();
        }
      }
      return null;
    };

    Model.findAllByAttribute = function(name, value) {
      return this.select(function(item) {
        return item[name] === value;
      });
    };

    Model.each = function(callback) {
      var record, _i, _len, _ref, _results;
      _ref = this.records;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        record = _ref[_i];
        _results.push(callback(record.clone()));
      }
      return _results;
    };

    Model.all = function() {
      return this.cloneArray(this.records);
    };

    Model.first = function() {
      var _ref;
      return (_ref = this.records[0]) != null ? _ref.clone() : void 0;
    };

    Model.last = function() {
      var _ref;
      return (_ref = this.records[this.records.length - 1]) != null ? _ref.clone() : void 0;
    };

    Model.count = function() {
      return this.records.length;
    };

    Model.deleteAll = function() {
      this.records = [];
      return this.irecords = {};
    };

    Model.destroyAll = function(options) {
      var record, _i, _len, _ref, _results;
      _ref = this.records;
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        record = _ref[_i];
        _results.push(record.destroy(options));
      }
      return _results;
    };

    Model.update = function(id, atts, options) {
      return this.find(id).updateAttributes(atts, options);
    };

    Model.create = function(atts, options) {
      var record;
      record = new this(atts);
      return record.save(options);
    };

    Model.destroy = function(id, options) {
      return this.find(id).destroy(options);
    };

    Model.change = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('change', callbackOrParams);
      } else {
        return this.trigger.apply(this, ['change'].concat(__slice.call(arguments)));
      }
    };

    Model.fetch = function(callbackOrParams) {
      if (typeof callbackOrParams === 'function') {
        return this.bind('fetch', callbackOrParams);
      } else {
        return this.trigger.apply(this, ['fetch'].concat(__slice.call(arguments)));
      }
    };

    Model.toJSON = function() {
      return this.records;
    };

    Model.fromJSON = function(objects) {
      var value, _i, _len, _results;
      if (!objects) {
        return;
      }
      if (typeof objects === 'string') {
        objects = JSON.parse(objects);
      }
      if (isArray(objects)) {
        _results = [];
        for (_i = 0, _len = objects.length; _i < _len; _i++) {
          value = objects[_i];
          _results.push(new this(value));
        }
        return _results;
      } else {
        return new this(objects);
      }
    };

    Model.fromForm = function() {
      var _ref;
      return (_ref = new this).fromForm.apply(_ref, arguments);
    };

    Model.sort = function() {
      if (this.comparator) {
        this.records.sort(this.comparator);
      }
      return this;
    };

    Model.cloneArray = function(array) {
      var value, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = array.length; _i < _len; _i++) {
        value = array[_i];
        _results.push(value.clone());
      }
      return _results;
    };

    Model.idCounter = 0;

    Model.uid = function(prefix) {
      var uid;
      if (prefix == null) {
        prefix = '';
      }
      uid = prefix + this.idCounter++;
      if (this.exists(uid)) {
        uid = this.uid(prefix);
      }
      return uid;
    };

    function Model(atts) {
      Model.__super__.constructor.apply(this, arguments);
      if (atts) {
        this.load(atts);
      }
      this.cid = (atts != null ? atts.cid : void 0) || this.constructor.uid('c-');
    }

    Model.prototype.isNew = function() {
      return !this.exists();
    };

    Model.prototype.isValid = function() {
      return !this.validate();
    };

    Model.prototype.validate = function() {};

    Model.prototype.load = function(atts) {
      var key, value;
      if (atts.id) {
        this.id = atts.id;
      }
      for (key in atts) {
        value = atts[key];
        if (atts.hasOwnProperty(key) && typeof this[key] === 'function') {
          this[key](value);
        } else {
          this[key] = value;
        }
      }
      return this;
    };

    Model.prototype.attributes = function() {
      var key, result, _i, _len, _ref;
      result = {};
      _ref = this.constructor.attributes;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        key = _ref[_i];
        if (key in this) {
          if (typeof this[key] === 'function') {
            result[key] = this[key]();
          } else {
            result[key] = this[key];
          }
        }
      }
      if (this.id) {
        result.id = this.id;
      }
      return result;
    };

    Model.prototype.eql = function(rec) {
      return !!(rec && rec.constructor === this.constructor && (rec.cid === this.cid) || (rec.id && rec.id === this.id));
    };

    Model.prototype.save = function(options) {
      var error, record;
      if (options == null) {
        options = {};
      }
      if (options.validate !== false) {
        error = this.validate();
        if (error) {
          this.trigger('error', error);
          return false;
        }
      }
      this.trigger('beforeSave', options);
      record = this.isNew() ? this.create(options) : this.update(options);
      this.stripCloneAttrs();
      this.trigger('save', options);
      return record;
    };

    Model.prototype.stripCloneAttrs = function() {
      var key, value;
      if (this.hasOwnProperty('cid')) {
        return;
      }
      for (key in this) {
        if (!__hasProp.call(this, key)) continue;
        value = this[key];
        if (this.constructor.attributes.indexOf(key) > -1) {
          delete this[key];
        }
      }
      return this;
    };

    Model.prototype.updateAttribute = function(name, value, options) {
      var atts;
      atts = {};
      atts[name] = value;
      return this.updateAttributes(atts, options);
    };

    Model.prototype.updateAttributes = function(atts, options) {
      this.load(atts);
      return this.save(options);
    };

    Model.prototype.changeID = function(id) {
      var records;
      if (id === this.id) {
        return;
      }
      records = this.constructor.irecords;
      records[id] = records[this.id];
      delete records[this.id];
      this.id = id;
      return this.save();
    };

    Model.prototype.remove = function() {
      var i, record, records, _i, _len;
      records = this.constructor.records.slice(0);
      for (i = _i = 0, _len = records.length; _i < _len; i = ++_i) {
        record = records[i];
        if (!(this.eql(record))) {
          continue;
        }
        records.splice(i, 1);
        break;
      }
      this.constructor.records = records;
      delete this.constructor.irecords[this.id];
      return delete this.constructor.irecords[this.cid];
    };

    Model.prototype.destroy = function(options) {
      if (options == null) {
        options = {};
      }
      this.trigger('beforeDestroy', options);
      this.remove();
      this.destroyed = true;
      this.trigger('destroy', options);
      this.trigger('change', 'destroy', options);
      if (this.listeningTo) {
        this.stopListening();
      }
      this.unbind();
      return this;
    };

    Model.prototype.dup = function(newRecord) {
      var atts;
      if (newRecord == null) {
        newRecord = true;
      }
      atts = this.attributes();
      if (newRecord) {
        delete atts.id;
      } else {
        atts.cid = this.cid;
      }
      return new this.constructor(atts);
    };

    Model.prototype.clone = function() {
      return createObject(this);
    };

    Model.prototype.reload = function() {
      var original;
      if (this.isNew()) {
        return this;
      }
      original = this.constructor.find(this.id);
      this.load(original.attributes());
      return original;
    };

    Model.prototype.refresh = function(data) {
      var root;
      root = this.constructor.irecords[this.id];
      root.load(data);
      this.trigger('refresh');
      return this;
    };

    Model.prototype.toJSON = function() {
      return this.attributes();
    };

    Model.prototype.toString = function() {
      return "<" + this.constructor.className + " (" + (JSON.stringify(this)) + ")>";
    };

    Model.prototype.fromForm = function(form) {
      var checkbox, key, name, result, _i, _j, _k, _len, _len1, _len2, _name, _ref, _ref1, _ref2;
      result = {};
      _ref = $(form).find('[type=checkbox]:not([value])');
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        checkbox = _ref[_i];
        result[checkbox.name] = $(checkbox).prop('checked');
      }
      _ref1 = $(form).find('[type=checkbox][name$="[]"]');
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        checkbox = _ref1[_j];
        name = checkbox.name.replace(/\[\]$/, '');
        result[name] || (result[name] = []);
        if ($(checkbox).prop('checked')) {
          result[name].push(checkbox.value);
        }
      }
      _ref2 = $(form).serializeArray();
      for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
        key = _ref2[_k];
        result[_name = key.name] || (result[_name] = key.value);
      }
      return this.load(result);
    };

    Model.prototype.exists = function() {
      return this.constructor.exists(this.id);
    };

    Model.prototype.update = function(options) {
      var clone, records;
      this.trigger('beforeUpdate', options);
      records = this.constructor.irecords;
      records[this.id].load(this.attributes());
      this.constructor.sort();
      clone = records[this.id].clone();
      clone.trigger('update', options);
      clone.trigger('change', 'update', options);
      return clone;
    };

    Model.prototype.create = function(options) {
      var clone, record;
      this.trigger('beforeCreate', options);
      this.id || (this.id = this.cid);
      record = this.dup(false);
      this.constructor.addRecord(record);
      this.constructor.sort();
      clone = record.clone();
      clone.trigger('create', options);
      clone.trigger('change', 'create', options);
      return clone;
    };

    Model.prototype.bind = function(events, callback) {
      var binder, singleEvent, _fn, _i, _len, _ref,
        _this = this;
      this.constructor.bind(events, binder = function(record) {
        if (record && _this.eql(record)) {
          return callback.apply(_this, arguments);
        }
      });
      _ref = events.split(' ');
      _fn = function(singleEvent) {
        var unbinder;
        return _this.constructor.bind("unbind", unbinder = function(record, event, cb) {
          if (record && _this.eql(record)) {
            if (event && event !== singleEvent) {
              return;
            }
            if (cb && cb !== callback) {
              return;
            }
            _this.constructor.unbind(singleEvent, binder);
            return _this.constructor.unbind("unbind", unbinder);
          }
        });
      };
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        singleEvent = _ref[_i];
        _fn(singleEvent);
      }
      return this;
    };

    Model.prototype.one = function(events, callback) {
      var handler,
        _this = this;
      return this.bind(events, handler = function() {
        _this.unbind(events, handler);
        return callback.apply(_this, arguments);
      });
    };

    Model.prototype.trigger = function() {
      var args, _ref;
      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      args.splice(1, 0, this);
      return (_ref = this.constructor).trigger.apply(_ref, args);
    };

    Model.prototype.listenTo = function() {
      return Events.listenTo.apply(this, arguments);
    };

    Model.prototype.listenToOnce = function() {
      return Events.listenToOnce.apply(this, arguments);
    };

    Model.prototype.stopListening = function() {
      return Events.stopListening.apply(this, arguments);
    };

    Model.prototype.unbind = function(events, callback) {
      var event, _i, _len, _ref, _results;
      if (arguments.length === 0) {
        return this.trigger('unbind');
      } else if (events) {
        _ref = events.split(' ');
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          event = _ref[_i];
          _results.push(this.trigger('unbind', event, callback));
        }
        return _results;
      }
    };

    return Model;

  })(Module);

  Model.prototype.on = Model.prototype.bind;

  Model.prototype.off = Model.prototype.unbind;

  Controller = (function(_super) {
    __extends(Controller, _super);

    Controller.include(Events);

    Controller.include(Log);

    Controller.prototype.eventSplitter = /^(\S+)\s*(.*)$/;

    Controller.prototype.tag = 'div';

    function Controller(options) {
      this.release = __bind(this.release, this);
      var context, key, parent_prototype, value, _ref;
      this.options = options;
      _ref = this.options;
      for (key in _ref) {
        value = _ref[key];
        this[key] = value;
      }
      if (!this.el) {
        this.el = document.createElement(this.tag);
      }
      this.el = $(this.el);
      this.$el = this.el;
      if (this.className) {
        this.el.addClass(this.className);
      }
      if (this.attributes) {
        this.el.attr(this.attributes);
      }
      if (!this.events) {
        this.events = this.constructor.events;
      }
      if (!this.elements) {
        this.elements = this.constructor.elements;
      }
      context = this;
      while (parent_prototype = context.constructor.__super__) {
        if (parent_prototype.events) {
          this.events = $.extend({}, parent_prototype.events, this.events);
        }
        if (parent_prototype.elements) {
          this.elements = $.extend({}, parent_prototype.elements, this.elements);
        }
        context = parent_prototype;
      }
      if (this.events) {
        this.delegateEvents(this.events);
      }
      if (this.elements) {
        this.refreshElements();
      }
      Controller.__super__.constructor.apply(this, arguments);
    }

    Controller.prototype.release = function() {
      this.trigger('release', this);
      this.el.remove();
      this.unbind();
      return this.stopListening();
    };

    Controller.prototype.$ = function(selector) {
      return $(selector, this.el);
    };

    Controller.prototype.delegateEvents = function(events) {
      var eventName, key, match, method, selector, _results,
        _this = this;
      _results = [];
      for (key in events) {
        method = events[key];
        if (typeof method === 'function') {
          method = (function(method) {
            return function() {
              method.apply(_this, arguments);
              return true;
            };
          })(method);
        } else {
          if (!this[method]) {
            throw new Error("" + method + " doesn't exist");
          }
          method = (function(method) {
            return function() {
              _this[method].apply(_this, arguments);
              return true;
            };
          })(method);
        }
        match = key.match(this.eventSplitter);
        eventName = match[1];
        selector = match[2];
        if (selector === '') {
          _results.push(this.el.bind(eventName, method));
        } else {
          _results.push(this.el.on(eventName, selector, method));
        }
      }
      return _results;
    };

    Controller.prototype.refreshElements = function() {
      var key, value, _ref, _results;
      _ref = this.elements;
      _results = [];
      for (key in _ref) {
        value = _ref[key];
        _results.push(this[value] = this.$(key));
      }
      return _results;
    };

    Controller.prototype.delay = function(func, timeout) {
      return setTimeout(this.proxy(func), timeout || 0);
    };

    Controller.prototype.html = function(element) {
      this.el.html(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.append = function() {
      var e, elements, _ref;
      elements = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      elements = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          e = elements[_i];
          _results.push(e.el || e);
        }
        return _results;
      })();
      (_ref = this.el).append.apply(_ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.appendTo = function(element) {
      this.el.appendTo(element.el || element);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.prepend = function() {
      var e, elements, _ref;
      elements = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
      elements = (function() {
        var _i, _len, _results;
        _results = [];
        for (_i = 0, _len = elements.length; _i < _len; _i++) {
          e = elements[_i];
          _results.push(e.el || e);
        }
        return _results;
      })();
      (_ref = this.el).prepend.apply(_ref, elements);
      this.refreshElements();
      return this.el;
    };

    Controller.prototype.replace = function(element) {
      var previous, _ref, _ref1;
      element = element.el || element;
      if (typeof element === "string") {
        element = $.trim(element);
      }
      _ref1 = [this.el, $(((_ref = $.parseHTML(element)) != null ? _ref[0] : void 0) || element)], previous = _ref1[0], this.el = _ref1[1];
      previous.replaceWith(this.el);
      this.delegateEvents(this.events);
      this.refreshElements();
      return this.el;
    };

    return Controller;

  })(Module);

  $ = (typeof window !== "undefined" && window !== null ? window.jQuery : void 0) || (typeof window !== "undefined" && window !== null ? window.Zepto : void 0) || function(element) {
    return element;
  };

  createObject = Object.create || function(o) {
    var Func;
    Func = function() {};
    Func.prototype = o;
    return new Func();
  };

  isArray = function(value) {
    return Object.prototype.toString.call(value) === '[object Array]';
  };

  isBlank = function(value) {
    var key;
    if (!value) {
      return true;
    }
    for (key in value) {
      return false;
    }
    return true;
  };

  makeArray = function(args) {
    return Array.prototype.slice.call(args, 0);
  };

  Spine = this.Spine = {};

  if (typeof module !== "undefined" && module !== null) {
    module.exports = Spine;
  }

  Spine.version = '1.2.0';

  Spine.isArray = isArray;

  Spine.isBlank = isBlank;

  Spine.$ = $;

  Spine.Events = Events;

  Spine.Log = Log;

  Spine.Module = Module;

  Spine.Controller = Controller;

  Spine.Model = Model;

  Module.extend.call(Spine, Events);

  Module.create = Module.sub = Controller.create = Controller.sub = Model.sub = function(instances, statics) {
    var Result, _ref;
    Result = (function(_super) {
      __extends(Result, _super);

      function Result() {
        _ref = Result.__super__.constructor.apply(this, arguments);
        return _ref;
      }

      return Result;

    })(this);
    if (instances) {
      Result.include(instances);
    }
    if (statics) {
      Result.extend(statics);
    }
    if (typeof Result.unbind === "function") {
      Result.unbind();
    }
    return Result;
  };

  Model.setup = function(name, attributes) {
    var Instance, _ref;
    if (attributes == null) {
      attributes = [];
    }
    Instance = (function(_super) {
      __extends(Instance, _super);

      function Instance() {
        _ref = Instance.__super__.constructor.apply(this, arguments);
        return _ref;
      }

      return Instance;

    })(this);
    Instance.configure.apply(Instance, [name].concat(__slice.call(attributes)));
    return Instance;
  };

  Spine.Class = Module;

}).call(this);

/*
//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BpbmUuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbInNyYy9zcGluZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0NBQUEsS0FBQSxxR0FBQTtLQUFBOzs7O3VGQUFBOztDQUFBLENBQUEsQ0FDRSxHQURGO0NBQ0UsQ0FBTSxDQUFBLENBQU4sSUFBTSxDQUFDO0NBQ0wsU0FBQSxnQkFBQTtDQUFBLENBQVUsQ0FBVixFQUFRLENBQVI7Q0FBQSxFQUNRLENBQUMsQ0FBVCxDQUFBLE1BQVEsRUFBQTtBQUNSLENBQUEsVUFBQSwrQkFBQTt3QkFBQTtDQUNFLEVBQWdCLENBQVYsQ0FBQSxHQUFOO0NBQUEsR0FDTSxDQUFBLEdBQU47Q0FGRixNQUZBO0NBREksWUFNSjtDQU5GLElBQU07Q0FBTixDQVFLLENBQUwsQ0FBQSxJQUFLLENBQUM7Q0FDSixNQUFBLEdBQUE7Q0FBQyxDQUFELENBQW9CLENBQW5CLEdBQVMsRUFBVSxJQUFwQjtDQUNFLENBQUEsRUFBQyxFQUFELENBQUEsQ0FBQTtDQUNTLENBQVksRUFBckIsQ0FBQSxHQUFRLENBQVIsTUFBQTtDQUZGLE1BQW9CO0NBVHRCLElBUUs7Q0FSTCxDQWFTLENBQUEsQ0FBVCxHQUFBLEVBQVM7Q0FDUCxTQUFBLDhCQUFBO0NBQUEsS0FEUSxpREFDUjtDQUFBLENBQUEsQ0FBSyxDQUFJLENBQUosQ0FBTDtDQUFBLENBQ3NELENBQS9DLENBQVAsRUFBQSxNQUFPLEVBQUE7QUFDTyxDQUFkLEdBQUEsRUFBQTtDQUFBLGFBQUE7UUFGQTtBQUdBLENBQUEsVUFBQSxnQ0FBQTs2QkFBQTtDQUNFLENBQXdCLEVBQXJCLENBQUEsR0FBSDtDQUNFLGVBREY7VUFERjtDQUFBLE1BSEE7Q0FETyxZQU9QO0NBcEJGLElBYVM7Q0FiVCxDQXNCVSxDQUFBLENBQVYsSUFBQSxDQUFXO0NBQ1QsQ0FBQSxDQUFHLENBQUgsRUFBQSxFQUFBO0NBQUEsRUFDaUIsQ0FBaEIsRUFBRDtDQURBLEdBRUMsRUFB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d21CQSxDQUFtQixFQUFkOztDQXhtQkwsQ0E0bUJBLEVBQUEsQ0FBQSxDQUFNOztDQTVtQk4sQ0FnbkJBLENBQWdCLEVBRVAsQ0FGSCxDQUVVLEVBQUMsQ0FETDtDQUVOLE9BQUEsSUFBQTtDQUFBLEdBQU07Q0FBTjs7Ozs7Q0FBQTs7Q0FBQTs7Q0FBcUI7Q0FDckIsR0FBQSxLQUFBO0NBQUEsS0FBQSxDQUFBLEVBQUE7TUFEQTtDQUVBLEdBQUEsR0FBQTtDQUFBLEtBQUEsQ0FBQTtNQUZBOztDQUdPLEtBQVA7TUFIQTtDQURVLFVBS1Y7Q0F2bkJOLEVBa25CZ0I7O0NBbG5CaEIsQ0F5bkJBLENBQWMsQ0FBQSxDQUFULElBQVUsQ0FBRDtDQUNaLE9BQUEsTUFBQTs7R0FEZ0MsR0FBYjtNQUNuQjtDQUFBLEdBQU07Q0FBTjs7Ozs7Q0FBQTs7Q0FBQTs7Q0FBdUI7Q0FBdkIsR0FDQSxJQUFRLENBQVIsQ0FBeUIsR0FBQSxJQUFOO0NBRlAsVUFHWjtDQTVuQkYsRUF5bkJjOztDQXpuQmQsQ0E4bkJBLENBQWMsRUFBVCxDQTluQkw7Q0FBQSIsInNvdXJjZXNDb250ZW50IjpbIkV2ZW50cyA9XG4gIGJpbmQ6IChldiwgY2FsbGJhY2spIC0+XG4gICAgZXZzICAgPSBldi5zcGxpdCgnICcpXG4gICAgY2FsbHMgPSBAaGFzT3duUHJvcGVydHkoJ19jYWxsYmFja3MnKSBhbmQgQF9jYWxsYmFja3Mgb3I9IHt9XG4gICAgZm9yIG5hbWUgaW4gZXZzXG4gICAgICBjYWxsc1tuYW1lXSBvcj0gW11cbiAgICAgIGNhbGxzW25hbWVdLnB1c2goY2FsbGJhY2spXG4gICAgdGhpc1xuXG4gIG9uZTogKGV2LCBjYWxsYmFjaykgLT5cbiAgICBAYmluZCBldiwgaGFuZGxlciA9IC0+XG4gICAgICBAdW5iaW5kKGV2LCBoYW5kbGVyKVxuICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG4gIHRyaWdnZXI6IChhcmdzLi4uKSAtPlxuICAgIGV2ID0gYXJncy5zaGlmdCgpXG4gICAgbGlzdCA9IEBoYXNPd25Qcm9wZXJ0eSgnX2NhbGxiYWNrcycpIGFuZCBAX2NhbGxiYWNrcz9bZXZdXG4gICAgcmV0dXJuIHVubGVzcyBsaXN0XG4gICAgZm9yIGNhbGxiYWNrIGluIGxpc3RcbiAgICAgIGlmIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpIGlzIGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgdHJ1ZVxuXG4gIGxpc3RlblRvOiAob2JqLCBldiwgY2FsbGJhY2spIC0+XG4gICAgb2JqLmJpbmQoZXYsIGNhbGxiYWNrKVxuICAgIEBsaXN0ZW5pbmdUbyBvcj0gW11cbiAgICBAbGlzdGVuaW5nVG8ucHVzaCB7b2JqLCBldiwgY2FsbGJhY2t9XG4gICAgdGhpc1xuXG4gIGxpc3RlblRvT25jZTogKG9iaiwgZXYsIGNhbGxiYWNrKSAtPlxuICAgIGxpc3RlbmluZ1RvT25jZSA9IEBsaXN0ZW5pbmdUb09uY2Ugb3IgPSBbXVxuICAgIG9iai5iaW5kIGV2LCBoYW5kbGVyID0gLT5cbiAgICAgIGlkeCA9IC0xXG4gICAgICBmb3IgbHQsIGkgaW4gbGlzdGVuaW5nVG9PbmNlIHdoZW4gbHQub2JqIGlzIG9ialxuICAgICAgICBpZHggPSBpIGlmIGx0LmV2IGlzIGV2IGFuZCBsdC5jYWxsYmFjayBpcyBjYWxsYmFja1xuICAgICAgb2JqLnVuYmluZChldiwgaGFuZGxlcilcbiAgICAgIGxpc3RlbmluZ1RvT25jZS5zcGxpY2UoaWR4LCAxKSB1bmxlc3MgaWR4IGlzIC0xXG4gICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgbGlzdGVuaW5nVG9PbmNlLnB1c2gge29iaiwgZXYsIGNhbGxiYWNrLCBoYW5kbGVyfVxuICAgIHRoaXNcblxuICBzdG9wTGlzdGVuaW5nOiAob2JqLCBldmVudHMsIGNhbGxiYWNrKSAtPlxuICAgIGlmIGFyZ3VtZW50cy5sZW5ndGggaXMgMFxuICAgICAgZm9yIGxpc3RlbmluZ1RvIGluIFtAbGlzdGVuaW5nVG8sIEBsaXN0ZW5pbmdUb09uY2VdXG4gICAgICAgIGNvbnRpbnVlIHVubGVzcyBsaXN0ZW5pbmdUb1xuICAgICAgICBmb3IgbHQgaW4gbGlzdGVuaW5nVG9cbiAgICAgICAgICBsdC5vYmoudW5iaW5kKGx0LmV2LCBsdC5oYW5kbGVyIG9yIGx0LmNhbGxiYWNrKVxuICAgICAgQGxpc3RlbmluZ1RvID0gdW5kZWZpbmVkXG4gICAgICBAbGlzdGVuaW5nVG9PbmNlID0gdW5kZWZpbmVkXG5cbiAgICBlbHNlIGlmIG9ialxuICAgICAgZm9yIGxpc3RlbmluZ1RvIGluIFtAbGlzdGVuaW5nVG8sIEBsaXN0ZW5pbmdUb09uY2VdXG4gICAgICAgIGNvbnRpbnVlIHVubGVzcyBsaXN0ZW5pbmdUb1xuICAgICAgICBldmVudHMgPSBpZiBldmVudHMgdGhlbiBldmVudHMuc3BsaXQoJyAnKSBlbHNlIFt1bmRlZmluZWRdXG4gICAgICAgIGZvciBldiBpbiBldmVudHNcbiAgICAgICAgICBmb3IgaWR4IGluIFtsaXN0ZW5pbmdUby5sZW5ndGgtMS4uMF1cbiAgICAgICAgICAgIGx0ID0gbGlzdGVuaW5nVG9baWR4XVxuICAgICAgICAgICAgaWYgKG5vdCBldikgb3IgKGV2IGlzIGx0LmV2KVxuICAgICAgICAgICAgICBsdC5vYmoudW5iaW5kKGx0LmV2LCBsdC5oYW5kbGVyIG9yIGx0LmNhbGxiYWNrKVxuICAgICAgICAgICAgICBsaXN0ZW5pbmdUby5zcGxpY2UoaWR4LCAxKSB1bmxlc3MgaWR4IGlzIC0xXG4gICAgICAgICAgICBlbHNlIGlmIGV2XG4gICAgICAgICAgICAgIGV2dHMgPSBsdC5ldi5zcGxpdCgnICcpXG4gICAgICAgICAgICAgIGlmIH4oaSA9IGV2dHMuaW5kZXhPZihldikpXG4gICAgICAgICAgICAgICAgZXZ0cy5zcGxpY2UoaSwgMSlcbiAgICAgICAgICAgICAgICBsdC5ldiA9ICQudHJpbShldnRzLmpvaW4oJyAnKSlcbiAgICAgICAgICAgICAgICBsdC5vYmoudW5iaW5kKGV2LCBsdC5oYW5kbGVyIG9yIGx0LmNhbGxiYWNrKVxuXG4gIHVuYmluZDogKGV2LCBjYWxsYmFjaykgLT5cbiAgICBpZiBhcmd1bWVudHMubGVuZ3RoIGlzIDBcbiAgICAgIEBfY2FsbGJhY2tzID0ge31cbiAgICAgIHJldHVybiB0aGlzXG4gICAgcmV0dXJuIHRoaXMgdW5sZXNzIGV2XG4gICAgZXZzID0gZXYuc3BsaXQoJyAnKVxuICAgIGZvciBuYW1lIGluIGV2c1xuICAgICAgbGlzdCA9IEBfY2FsbGJhY2tzP1tuYW1lXVxuICAgICAgY29udGludWUgdW5sZXNzIGxpc3RcbiAgICAgIHVubGVzcyBjYWxsYmFja1xuICAgICAgICBkZWxldGUgQF9jYWxsYmFja3NbbmFtZV1cbiAgICAgICAgY29udGludWVcbiAgICAgIGZvciBjYiwgaSBpbiBsaXN0IHdoZW4gKGNiIGlzIGNhbGxiYWNrKVxuICAgICAgICBsaXN0ID0gbGlzdC5zbGljZSgpXG4gICAgICAgIGxpc3Quc3BsaWNlKGksIDEpXG4gICAgICAgIEBfY2FsbGJhY2tzW25hbWVdID0gbGlzdFxuICAgICAgICBicmVha1xuICAgIHRoaXNcblxuRXZlbnRzLm9uID0gRXZlbnRzLmJpbmRcbkV2ZW50cy5vZmYgPSBFdmVudHMudW5iaW5kXG5cbkxvZyA9XG4gIHRyYWNlOiB0cnVlXG5cbiAgbG9nUHJlZml4OiAnKEFwcCknXG5cbiAgbG9nOiAoYXJncy4uLikgLT5cbiAgICByZXR1cm4gdW5sZXNzIEB0cmFjZVxuICAgIGlmIEBsb2dQcmVmaXggdGhlbiBhcmdzLnVuc2hpZnQoQGxvZ1ByZWZpeClcbiAgICBjb25zb2xlPy5sb2c/KGFyZ3MuLi4pXG4gICAgdGhpc1xuXG5tb2R1bGVLZXl3b3JkcyA9IFsnaW5jbHVkZWQnLCAnZXh0ZW5kZWQnXVxuXG5jbGFzcyBNb2R1bGVcbiAgQGluY2x1ZGU6IChvYmopIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbmNsdWRlKG9iaikgcmVxdWlyZXMgb2JqJykgdW5sZXNzIG9ialxuICAgIGZvciBrZXksIHZhbHVlIG9mIG9iaiB3aGVuIGtleSBub3QgaW4gbW9kdWxlS2V5d29yZHNcbiAgICAgIEA6OltrZXldID0gdmFsdWVcbiAgICBvYmouaW5jbHVkZWQ/LmFwcGx5KHRoaXMpXG4gICAgdGhpc1xuXG4gIEBleHRlbmQ6IChvYmopIC0+XG4gICAgdGhyb3cgbmV3IEVycm9yKCdleHRlbmQob2JqKSByZXF1aXJlcyBvYmonKSB1bmxlc3Mgb2JqXG4gICAgZm9yIGtleSwgdmFsdWUgb2Ygb2JqIHdoZW4ga2V5IG5vdCBpbiBtb2R1bGVLZXl3b3Jkc1xuICAgICAgQFtrZXldID0gdmFsdWVcbiAgICBvYmouZXh0ZW5kZWQ/LmFwcGx5KHRoaXMpXG4gICAgdGhpc1xuXG4gIEBwcm94eTogKGZ1bmMpIC0+XG4gICAgPT4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cbiAgcHJveHk6IChmdW5jKSAtPlxuICAgID0+IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG4gIGNvbnN0cnVjdG9yOiAtPlxuICAgIEBpbml0Pyhhcmd1bWVudHMuLi4pXG5cbmNsYXNzIE1vZGVsIGV4dGVuZHMgTW9kdWxlXG4gIEBleHRlbmQgRXZlbnRzXG5cbiAgQHJlY29yZHMgICAgOiBbXVxuICBAaXJlY29yZHMgICA6IHt9XG4gIEBhdHRyaWJ1dGVzIDogW11cblxuICBAY29uZmlndXJlOiAobmFtZSwgYXR0cmlidXRlcy4uLikgLT5cbiAgICBAY2xhc3NOYW1lID0gbmFtZVxuICAgIEBkZWxldGVBbGwoKVxuICAgIEBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcyBpZiBhdHRyaWJ1dGVzLmxlbmd0aFxuICAgIEBhdHRyaWJ1dGVzIGFuZD0gbWFrZUFycmF5KEBhdHRyaWJ1dGVzKVxuICAgIEBhdHRyaWJ1dGVzIG9yPSAgW11cbiAgICBAdW5iaW5kKClcbiAgICB0aGlzXG5cbiAgQHRvU3RyaW5nOiAtPiBcIiN7QGNsYXNzTmFtZX0oI3tAYXR0cmlidXRlcy5qb2luKFwiLCBcIil9KVwiXG5cbiAgQGZpbmQ6IChpZCkgLT5cbiAgICByZWNvcmQgPSBAZXhpc3RzKGlkKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlxcXCIje0BjbGFzc05hbWV9XFxcIiBtb2RlbCBjb3VsZCBub3QgZmluZCBhIHJlY29yZCBmb3IgdGhlIElEIFxcXCIje2lkfVxcXCJcIikgdW5sZXNzIHJlY29yZFxuICAgIHJldHVybiByZWNvcmRcblxuICBAZXhpc3RzOiAoaWQpIC0+XG4gICAgQGlyZWNvcmRzW2lkXT8uY2xvbmUoKVxuXG4gIEBhZGRSZWNvcmQ6IChyZWNvcmQpIC0+XG4gICAgaWYgcmVjb3JkLmlkIGFuZCBAaXJlY29yZHNbcmVjb3JkLmlkXVxuICAgICAgQGlyZWNvcmRzW3JlY29yZC5pZF0ucmVtb3ZlKClcblxuICAgIHJlY29yZC5pZCBvcj0gcmVjb3JkLmNpZFxuICAgIEByZWNvcmRzLnB1c2gocmVjb3JkKVxuICAgIEBpcmVjb3Jkc1tyZWNvcmQuaWRdICA9IHJlY29yZFxuICAgIEBpcmVjb3Jkc1tyZWNvcmQuY2lkXSA9IHJlY29yZFxuXG4gIEByZWZyZXNoOiAodmFsdWVzLCBvcHRpb25zID0ge30pIC0+XG4gICAgQGRlbGV0ZUFsbCgpIGlmIG9wdGlvbnMuY2xlYXJcblxuICAgIHJlY29yZHMgPSBAZnJvbUpTT04odmFsdWVzKVxuICAgIHJlY29yZHMgPSBbcmVjb3Jkc10gdW5sZXNzIGlzQXJyYXkocmVjb3JkcylcbiAgICBAYWRkUmVjb3JkKHJlY29yZCkgZm9yIHJlY29yZCBpbiByZWNvcmRzXG4gICAgQHNvcnQoKVxuXG4gICAgcmVzdWx0ID0gQGNsb25lQXJyYXkocmVjb3JkcylcbiAgICBAdHJpZ2dlcigncmVmcmVzaCcsIHJlc3VsdCwgb3B0aW9ucylcbiAgICByZXN1bHRcblxuICBAc2VsZWN0OiAoY2FsbGJhY2spIC0+XG4gICAgKHJlY29yZC5jbG9uZSgpIGZvciByZWNvcmQgaW4gQHJlY29yZHMgd2hlbiBjYWxsYmFjayhyZWNvcmQpKVxuXG4gIEBmaW5kQnlBdHRyaWJ1dGU6IChuYW1lLCB2YWx1ZSkgLT5cbiAgICBmb3IgcmVjb3JkIGluIEByZWNvcmRzXG4gICAgICBpZiByZWNvcmRbbmFtZV0gaXMgdmFsdWVcbiAgICAgICAgcmV0dXJuIHJlY29yZC5jbG9uZSgpXG4gICAgbnVsbFxuXG4gIEBmaW5kQWxsQnlBdHRyaWJ1dGU6IChuYW1lLCB2YWx1ZSkgLT5cbiAgICBAc2VsZWN0IChpdGVtKSAtPlxuICAgICAgaXRlbVtuYW1lXSBpcyB2YWx1ZVxuXG4gIEBlYWNoOiAoY2FsbGJhY2spIC0+XG4gICAgY2FsbGJhY2socmVjb3JkLmNsb25lKCkpIGZvciByZWNvcmQgaW4gQHJlY29yZHNcblxuICBAYWxsOiAtPlxuICAgIEBjbG9uZUFycmF5KEByZWNvcmRzKVxuXG4gIEBmaXJzdDogLT5cbiAgICBAcmVjb3Jkc1swXT8uY2xvbmUoKVxuXG4gIEBsYXN0OiAtPlxuICAgIEByZWNvcmRzW0ByZWNvcmRzLmxlbmd0aCAtIDFdPy5jbG9uZSgpXG5cbiAgQGNvdW50OiAtPlxuICAgIEByZWNvcmRzLmxlbmd0aFxuXG4gIEBkZWxldGVBbGw6IC0+XG4gICAgQHJlY29yZHMgID0gW11cbiAgICBAaXJlY29yZHMgPSB7fVxuXG4gIEBkZXN0cm95QWxsOiAob3B0aW9ucykgLT5cbiAgICByZWNvcmQuZGVzdHJveShvcHRpb25zKSBmb3IgcmVjb3JkIGluIEByZWNvcmRzXG5cbiAgQHVwZGF0ZTogKGlkLCBhdHRzLCBvcHRpb25zKSAtPlxuICAgIEBmaW5kKGlkKS51cGRhdGVBdHRyaWJ1dGVzKGF0dHMsIG9wdGlvbnMpXG5cbiAgQGNyZWF0ZTogKGF0dHMsIG9wdGlvbnMpIC0+XG4gICAgcmVjb3JkID0gbmV3IEAoYXR0cylcbiAgICByZWNvcmQuc2F2ZShvcHRpb25zKVxuXG4gIEBkZXN0cm95OiAoaWQsIG9wdGlvbnMpIC0+XG4gICAgQGZpbmQoaWQpLmRlc3Ryb3kob3B0aW9ucylcblxuICBAY2hhbmdlOiAoY2FsbGJhY2tPclBhcmFtcykgLT5cbiAgICBpZiB0eXBlb2YgY2FsbGJhY2tPclBhcmFtcyBpcyAnZnVuY3Rpb24nXG4gICAgICBAYmluZCgnY2hhbmdlJywgY2FsbGJhY2tPclBhcmFtcylcbiAgICBlbHNlXG4gICAgICBAdHJpZ2dlcignY2hhbmdlJywgYXJndW1lbnRzLi4uKVxuXG4gIEBmZXRjaDogKGNhbGxiYWNrT3JQYXJhbXMpIC0+XG4gICAgaWYgdHlwZW9mIGNhbGxiYWNrT3JQYXJhbXMgaXMgJ2Z1bmN0aW9uJ1xuICAgICAgQGJpbmQoJ2ZldGNoJywgY2FsbGJhY2tPclBhcmFtcylcbiAgICBlbHNlXG4gICAgICBAdHJpZ2dlcignZmV0Y2gnLCBhcmd1bWVudHMuLi4pXG5cbiAgQHRvSlNPTjogLT5cbiAgICBAcmVjb3Jkc1xuXG4gIEBmcm9tSlNPTjogKG9iamVjdHMpIC0+XG4gICAgcmV0dXJuIHVubGVzcyBvYmplY3RzXG4gICAgaWYgdHlwZW9mIG9iamVjdHMgaXMgJ3N0cmluZydcbiAgICAgIG9iamVjdHMgPSBKU09OLnBhcnNlKG9iamVjdHMpXG4gICAgaWYgaXNBcnJheShvYmplY3RzKVxuICAgICAgKG5ldyBAKHZhbHVlKSBmb3IgdmFsdWUgaW4gb2JqZWN0cylcbiAgICBlbHNlXG4gICAgICBuZXcgQChvYmplY3RzKVxuXG4gIEBmcm9tRm9ybTogLT5cbiAgICAobmV3IHRoaXMpLmZyb21Gb3JtKGFyZ3VtZW50cy4uLilcblxuICBAc29ydDogLT5cbiAgICBpZiBAY29tcGFyYXRvclxuICAgICAgQHJlY29yZHMuc29ydCBAY29tcGFyYXRvclxuICAgIHRoaXNcblxuICAjIFByaXZhdGVcblxuICBAY2xvbmVBcnJheTogKGFycmF5KSAtPlxuICAgICh2YWx1ZS5jbG9uZSgpIGZvciB2YWx1ZSBpbiBhcnJheSlcblxuICBAaWRDb3VudGVyOiAwXG5cbiAgQHVpZDogKHByZWZpeCA9ICcnKSAtPlxuICAgIHVpZCA9IHByZWZpeCArIEBpZENvdW50ZXIrK1xuICAgIHVpZCA9IEB1aWQocHJlZml4KSBpZiBAZXhpc3RzKHVpZClcbiAgICB1aWRcblxuICAjIEluc3RhbmNlXG5cbiAgY29uc3RydWN0b3I6IChhdHRzKSAtPlxuICAgIHN1cGVyXG4gICAgQGxvYWQgYXR0cyBpZiBhdHRzXG4gICAgQGNpZCA9IGF0dHM/LmNpZCBvciBAY29uc3RydWN0b3IudWlkKCdjLScpXG5cbiAgaXNOZXc6IC0+XG4gICAgbm90IEBleGlzdHMoKVxuXG4gIGlzVmFsaWQ6IC0+XG4gICAgbm90IEB2YWxpZGF0ZSgpXG5cbiAgdmFsaWRhdGU6IC0+XG5cbiAgbG9hZDogKGF0dHMpIC0+XG4gICAgaWYgYXR0cy5pZCB0aGVuIEBpZCA9IGF0dHMuaWRcbiAgICBmb3Iga2V5LCB2YWx1ZSBvZiBhdHRzXG4gICAgICBpZiBhdHRzLmhhc093blByb3BlcnR5KGtleSkgYW5kIHR5cGVvZiBAW2tleV0gaXMgJ2Z1bmN0aW9uJ1xuICAgICAgICBAW2tleV0odmFsdWUpXG4gICAgICBlbHNlXG4gICAgICAgIEBba2V5XSA9IHZhbHVlXG4gICAgdGhpc1xuXG4gIGF0dHJpYnV0ZXM6IC0+XG4gICAgcmVzdWx0ID0ge31cbiAgICBmb3Iga2V5IGluIEBjb25zdHJ1Y3Rvci5hdHRyaWJ1dGVzIHdoZW4ga2V5IG9mIHRoaXNcbiAgICAgIGlmIHR5cGVvZiBAW2tleV0gaXMgJ2Z1bmN0aW9uJ1xuICAgICAgICByZXN1bHRba2V5XSA9IEBba2V5XSgpXG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VsdFtrZXldID0gQFtrZXldXG4gICAgcmVzdWx0LmlkID0gQGlkIGlmIEBpZFxuICAgIHJlc3VsdFxuXG4gIGVxbDogKHJlYykgLT5cbiAgICAhIShyZWMgYW5kIHJlYy5jb25zdHJ1Y3RvciBpcyBAY29uc3RydWN0b3IgYW5kXG4gICAgICAgIChyZWMuY2lkIGlzIEBjaWQpIG9yIChyZWMuaWQgYW5kIHJlYy5pZCBpcyBAaWQpKVxuXG4gIHNhdmU6IChvcHRpb25zID0ge30pIC0+XG4gICAgdW5sZXNzIG9wdGlvbnMudmFsaWRhdGUgaXMgZmFsc2VcbiAgICAgIGVycm9yID0gQHZhbGlkYXRlKClcbiAgICAgIGlmIGVycm9yXG4gICAgICAgIEB0cmlnZ2VyKCdlcnJvcicsIGVycm9yKVxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgIEB0cmlnZ2VyKCdiZWZvcmVTYXZlJywgb3B0aW9ucylcbiAgICByZWNvcmQgPSBpZiBAaXNOZXcoKSB0aGVuIEBjcmVhdGUob3B0aW9ucykgZWxzZSBAdXBkYXRlKG9wdGlvbnMpXG4gICAgQHN0cmlwQ2xvbmVBdHRycygpXG4gICAgQHRyaWdnZXIoJ3NhdmUnLCBvcHRpb25zKVxuICAgIHJlY29yZFxuXG4gIHN0cmlwQ2xvbmVBdHRyczogLT5cbiAgICByZXR1cm4gaWYgQGhhc093blByb3BlcnR5ICdjaWQnICMgTWFrZSBzdXJlIGl0J3Mgbm90IHRoZSByYXcgb2JqZWN0XG4gICAgZm9yIG93biBrZXksIHZhbHVlIG9mIEBcbiAgICAgIGRlbGV0ZSBAW2tleV0gaWYgQGNvbnN0cnVjdG9yLmF0dHJpYnV0ZXMuaW5kZXhPZihrZXkpID4gLTFcbiAgICB0aGlzXG5cbiAgdXBkYXRlQXR0cmlidXRlOiAobmFtZSwgdmFsdWUsIG9wdGlvbnMpIC0+XG4gICAgYXR0cyA9IHt9XG4gICAgYXR0c1tuYW1lXSA9IHZhbHVlXG4gICAgQHVwZGF0ZUF0dHJpYnV0ZXMoYXR0cywgb3B0aW9ucylcblxuICB1cGRhdGVBdHRyaWJ1dGVzOiAoYXR0cywgb3B0aW9ucykgLT5cbiAgICBAbG9hZChhdHRzKVxuICAgIEBzYXZlKG9wdGlvbnMpXG5cbiAgY2hhbmdlSUQ6IChpZCkgLT5cbiAgICByZXR1cm4gaWYgaWQgaXMgQGlkXG4gICAgcmVjb3JkcyA9IEBjb25zdHJ1Y3Rvci5pcmVjb3Jkc1xuICAgIHJlY29yZHNbaWRdID0gcmVjb3Jkc1tAaWRdXG4gICAgZGVsZXRlIHJlY29yZHNbQGlkXVxuICAgIEBpZCA9IGlkXG4gICAgQHNhdmUoKVxuXG4gIHJlbW92ZTogLT5cbiAgICAjIFJlbW92ZSByZWNvcmQgZnJvbSBtb2RlbFxuICAgIHJlY29yZHMgPSBAY29uc3RydWN0b3IucmVjb3Jkcy5zbGljZSgwKVxuICAgIGZvciByZWNvcmQsIGkgaW4gcmVjb3JkcyB3aGVuIEBlcWwocmVjb3JkKVxuICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSlcbiAgICAgIGJyZWFrXG4gICAgQGNvbnN0cnVjdG9yLnJlY29yZHMgPSByZWNvcmRzXG4gICAgIyBSZW1vdmUgdGhlIElEIGFuZCBDSURcbiAgICBkZWxldGUgQGNvbnN0cnVjdG9yLmlyZWNvcmRzW0BpZF1cbiAgICBkZWxldGUgQGNvbnN0cnVjdG9yLmlyZWNvcmRzW0BjaWRdXG5cbiAgZGVzdHJveTogKG9wdGlvbnMgPSB7fSkgLT5cbiAgICBAdHJpZ2dlcignYmVmb3JlRGVzdHJveScsIG9wdGlvbnMpXG4gICAgQHJlbW92ZSgpXG4gICAgQGRlc3Ryb3llZCA9IHRydWVcbiAgICAjIGhhbmRsZSBldmVudHNcbiAgICBAdHJpZ2dlcignZGVzdHJveScsIG9wdGlvbnMpXG4gICAgQHRyaWdnZXIoJ2NoYW5nZScsICdkZXN0cm95Jywgb3B0aW9ucylcbiAgICBpZiBAbGlzdGVuaW5nVG9cbiAgICAgIEBzdG9wTGlzdGVuaW5nKClcbiAgICBAdW5iaW5kKClcbiAgICB0aGlzXG5cbiAgZHVwOiAobmV3UmVjb3JkID0gdHJ1ZSkgLT5cbiAgICBhdHRzID0gQGF0dHJpYnV0ZXMoKVxuICAgIGlmIG5ld1JlY29yZFxuICAgICAgZGVsZXRlIGF0dHMuaWRcbiAgICBlbHNlXG4gICAgICBhdHRzLmNpZCA9IEBjaWRcbiAgICBuZXcgQGNvbnN0cnVjdG9yKGF0dHMpXG5cbiAgY2xvbmU6IC0+XG4gICAgY3JlYXRlT2JqZWN0KHRoaXMpXG5cbiAgcmVsb2FkOiAtPlxuICAgIHJldHVybiB0aGlzIGlmIEBpc05ldygpXG4gICAgb3JpZ2luYWwgPSBAY29uc3RydWN0b3IuZmluZChAaWQpXG4gICAgQGxvYWQob3JpZ2luYWwuYXR0cmlidXRlcygpKVxuICAgIG9yaWdpbmFsXG5cbiAgcmVmcmVzaDogKGRhdGEpIC0+XG4gICAgIyBnbyB0byB0aGUgc291cmNlIGFuZCBsb2FkIGF0dHJpYnV0ZXNcbiAgICByb290ID0gQGNvbnN0cnVjdG9yLmlyZWNvcmRzW0BpZF1cbiAgICByb290LmxvYWQoZGF0YSlcbiAgICBAdHJpZ2dlcigncmVmcmVzaCcpXG4gICAgQFxuXG4gIHRvSlNPTjogLT5cbiAgICBAYXR0cmlidXRlcygpXG5cbiAgdG9TdHJpbmc6IC0+XG4gICAgXCI8I3tAY29uc3RydWN0b3IuY2xhc3NOYW1lfSAoI3tKU09OLnN0cmluZ2lmeSh0aGlzKX0pPlwiXG5cbiAgZnJvbUZvcm06IChmb3JtKSAtPlxuICAgIHJlc3VsdCA9IHt9XG5cbiAgICBmb3IgY2hlY2tib3ggaW4gJChmb3JtKS5maW5kKCdbdHlwZT1jaGVja2JveF06bm90KFt2YWx1ZV0pJylcbiAgICAgIHJlc3VsdFtjaGVja2JveC5uYW1lXSA9ICQoY2hlY2tib3gpLnByb3AoJ2NoZWNrZWQnKVxuXG4gICAgZm9yIGNoZWNrYm94IGluICQoZm9ybSkuZmluZCgnW3R5cGU9Y2hlY2tib3hdW25hbWUkPVwiW11cIl0nKVxuICAgICAgbmFtZSA9IGNoZWNrYm94Lm5hbWUucmVwbGFjZSgvXFxbXFxdJC8sICcnKVxuICAgICAgcmVzdWx0W25hbWVdIG9yPSBbXVxuICAgICAgcmVzdWx0W25hbWVdLnB1c2ggY2hlY2tib3gudmFsdWUgaWYgJChjaGVja2JveCkucHJvcCgnY2hlY2tlZCcpXG5cbiAgICBmb3Iga2V5IGluICQoZm9ybSkuc2VyaWFsaXplQXJyYXkoKVxuICAgICAgcmVzdWx0W2tleS5uYW1lXSBvcj0ga2V5LnZhbHVlXG5cbiAgICBAbG9hZChyZXN1bHQpXG5cbiAgZXhpc3RzOiAtPlxuICAgIEBjb25zdHJ1Y3Rvci5leGlzdHMoQGlkKVxuXG4gICMgUHJpdmF0ZVxuXG4gIHVwZGF0ZTogKG9wdGlvbnMpIC0+XG4gICAgQHRyaWdnZXIoJ2JlZm9yZVVwZGF0ZScsIG9wdGlvbnMpXG5cbiAgICByZWNvcmRzID0gQGNvbnN0cnVjdG9yLmlyZWNvcmRzXG4gICAgcmVjb3Jkc1tAaWRdLmxvYWQgQGF0dHJpYnV0ZXMoKVxuXG4gICAgQGNvbnN0cnVjdG9yLnNvcnQoKVxuXG4gICAgY2xvbmUgPSByZWNvcmRzW0BpZF0uY2xvbmUoKVxuICAgIGNsb25lLnRyaWdnZXIoJ3VwZGF0ZScsIG9wdGlvbnMpXG4gICAgY2xvbmUudHJpZ2dlcignY2hhbmdlJywgJ3VwZGF0ZScsIG9wdGlvbnMpXG4gICAgY2xvbmVcblxuICBjcmVhdGU6IChvcHRpb25zKSAtPlxuICAgIEB0cmlnZ2VyKCdiZWZvcmVDcmVhdGUnLCBvcHRpb25zKVxuICAgIEBpZCBvcj0gQGNpZFxuXG4gICAgcmVjb3JkID0gQGR1cChmYWxzZSlcbiAgICBAY29uc3RydWN0b3IuYWRkUmVjb3JkKHJlY29yZClcbiAgICBAY29uc3RydWN0b3Iuc29ydCgpXG5cbiAgICBjbG9uZSAgICAgICAgPSByZWNvcmQuY2xvbmUoKVxuICAgIGNsb25lLnRyaWdnZXIoJ2NyZWF0ZScsIG9wdGlvbnMpXG4gICAgY2xvbmUudHJpZ2dlcignY2hhbmdlJywgJ2NyZWF0ZScsIG9wdGlvbnMpXG4gICAgY2xvbmVcblxuICBiaW5kOiAoZXZlbnRzLCBjYWxsYmFjaykgLT5cbiAgICBAY29uc3RydWN0b3IuYmluZCBldmVudHMsIGJpbmRlciA9IChyZWNvcmQpID0+XG4gICAgICBpZiByZWNvcmQgJiYgQGVxbChyZWNvcmQpXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAjIGNyZWF0ZSBhIHdyYXBwZXIgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggJ3VuYmluZCcgZm9yIGVhY2ggZXZlbnRcbiAgICBmb3Igc2luZ2xlRXZlbnQgaW4gZXZlbnRzLnNwbGl0KCcgJylcbiAgICAgIGRvIChzaW5nbGVFdmVudCkgPT5cbiAgICAgICAgQGNvbnN0cnVjdG9yLmJpbmQgXCJ1bmJpbmRcIiwgdW5iaW5kZXIgPSAocmVjb3JkLCBldmVudCwgY2IpID0+XG4gICAgICAgICAgaWYgcmVjb3JkICYmIEBlcWwocmVjb3JkKVxuICAgICAgICAgICAgcmV0dXJuIGlmIGV2ZW50IGFuZCBldmVudCBpc250IHNpbmdsZUV2ZW50XG4gICAgICAgICAgICByZXR1cm4gaWYgY2IgYW5kIGNiIGlzbnQgY2FsbGJhY2tcbiAgICAgICAgICAgIEBjb25zdHJ1Y3Rvci51bmJpbmQoc2luZ2xlRXZlbnQsIGJpbmRlcilcbiAgICAgICAgICAgIEBjb25zdHJ1Y3Rvci51bmJpbmQoXCJ1bmJpbmRcIiwgdW5iaW5kZXIpXG4gICAgdGhpc1xuXG4gIG9uZTogKGV2ZW50cywgY2FsbGJhY2spIC0+XG4gICAgQGJpbmQgZXZlbnRzLCBoYW5kbGVyID0gPT5cbiAgICAgIEB1bmJpbmQoZXZlbnRzLCBoYW5kbGVyKVxuICAgICAgY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG4gIHRyaWdnZXI6IChhcmdzLi4uKSAtPlxuICAgIGFyZ3Muc3BsaWNlKDEsIDAsIHRoaXMpXG4gICAgQGNvbnN0cnVjdG9yLnRyaWdnZXIoYXJncy4uLilcblxuICBsaXN0ZW5UbzogLT4gRXZlbnRzLmxpc3RlblRvLmFwcGx5IEAsIGFyZ3VtZW50c1xuICBsaXN0ZW5Ub09uY2U6IC0+IEV2ZW50cy5saXN0ZW5Ub09uY2UuYXBwbHkgQCwgYXJndW1lbnRzXG4gIHN0b3BMaXN0ZW5pbmc6IC0+IEV2ZW50cy5zdG9wTGlzdGVuaW5nLmFwcGx5IEAsIGFyZ3VtZW50c1xuXG4gIHVuYmluZDogKGV2ZW50cywgY2FsbGJhY2spIC0+XG4gICAgaWYgYXJndW1lbnRzLmxlbmd0aCBpcyAwXG4gICAgICBAdHJpZ2dlcigndW5iaW5kJylcbiAgICBlbHNlIGlmIGV2ZW50c1xuICAgICAgZm9yIGV2ZW50IGluIGV2ZW50cy5zcGxpdCgnICcpXG4gICAgICAgIEB0cmlnZ2VyKCd1bmJpbmQnLCBldmVudCwgY2FsbGJhY2spXG5cbk1vZGVsOjpvbiA9IE1vZGVsOjpiaW5kXG5Nb2RlbDo6b2ZmID0gTW9kZWw6OnVuYmluZFxuXG5jbGFzcyBDb250cm9sbGVyIGV4dGVuZHMgTW9kdWxlXG4gIEBpbmNsdWRlIEV2ZW50c1xuICBAaW5jbHVkZSBMb2dcblxuICBldmVudFNwbGl0dGVyOiAvXihcXFMrKVxccyooLiopJC9cbiAgdGFnOiAnZGl2J1xuXG4gIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT5cbiAgICBAb3B0aW9ucyA9IG9wdGlvbnNcblxuICAgIGZvciBrZXksIHZhbHVlIG9mIEBvcHRpb25zXG4gICAgICBAW2tleV0gPSB2YWx1ZVxuXG4gICAgQGVsICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoQHRhZykgdW5sZXNzIEBlbFxuICAgIEBlbCAgPSAkKEBlbClcbiAgICBAJGVsID0gQGVsXG5cbiAgICBAZWwuYWRkQ2xhc3MoQGNsYXNzTmFtZSkgaWYgQGNsYXNzTmFtZVxuICAgIEBlbC5hdHRyKEBhdHRyaWJ1dGVzKSBpZiBAYXR0cmlidXRlc1xuXG4gICAgQGV2ZW50cyA9IEBjb25zdHJ1Y3Rvci5ldmVudHMgdW5sZXNzIEBldmVudHNcbiAgICBAZWxlbWVudHMgPSBAY29uc3RydWN0b3IuZWxlbWVudHMgdW5sZXNzIEBlbGVtZW50c1xuXG4gICAgY29udGV4dCA9IEBcbiAgICB3aGlsZSBwYXJlbnRfcHJvdG90eXBlID0gY29udGV4dC5jb25zdHJ1Y3Rvci5fX3N1cGVyX19cbiAgICAgIEBldmVudHMgPSAkLmV4dGVuZCh7fSwgcGFyZW50X3Byb3RvdHlwZS5ldmVudHMsIEBldmVudHMpIGlmIHBhcmVudF9wcm90b3R5cGUuZXZlbnRzXG4gICAgICBAZWxlbWVudHMgPSAkLmV4dGVuZCh7fSwgcGFyZW50X3Byb3RvdHlwZS5lbGVtZW50cywgQGVsZW1lbnRzKSBpZiBwYXJlbnRfcHJvdG90eXBlLmVsZW1lbnRzXG4gICAgICBjb250ZXh0ID0gcGFyZW50X3Byb3RvdHlwZVxuXG4gICAgQGRlbGVnYXRlRXZlbnRzKEBldmVudHMpIGlmIEBldmVudHNcbiAgICBAcmVmcmVzaEVsZW1lbnRzKCkgaWYgQGVsZW1lbnRzXG5cbiAgICBzdXBlclxuXG4gIHJlbGVhc2U6ID0+XG4gICAgQHRyaWdnZXIgJ3JlbGVhc2UnLCB0aGlzXG4gICAgIyBubyBuZWVkIHRvIHVuRGVsZWdhdGVFdmVudHMgc2luY2UgcmVtb3ZlIHdpbGwgZW5kIHVwIGhhbmRsaW5nIHRoYXRcbiAgICBAZWwucmVtb3ZlKClcbiAgICBAdW5iaW5kKClcbiAgICBAc3RvcExpc3RlbmluZygpXG5cbiAgJDogKHNlbGVjdG9yKSAtPiAkKHNlbGVjdG9yLCBAZWwpXG5cbiAgZGVsZWdhdGVFdmVudHM6IChldmVudHMpIC0+XG4gICAgZm9yIGtleSwgbWV0aG9kIG9mIGV2ZW50c1xuXG4gICAgICBpZiB0eXBlb2YobWV0aG9kKSBpcyAnZnVuY3Rpb24nXG4gICAgICAgICMgQWx3YXlzIHJldHVybiB0cnVlIGZyb20gZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgbWV0aG9kID0gZG8gKG1ldGhvZCkgPT4gPT5cbiAgICAgICAgICBtZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICAgIHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgdW5sZXNzIEBbbWV0aG9kXVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIiN7bWV0aG9kfSBkb2Vzbid0IGV4aXN0XCIpXG5cbiAgICAgICAgbWV0aG9kID0gZG8gKG1ldGhvZCkgPT4gPT5cbiAgICAgICAgICBAW21ldGhvZF0uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICAgIHRydWVcblxuICAgICAgbWF0Y2ggICAgICA9IGtleS5tYXRjaChAZXZlbnRTcGxpdHRlcilcbiAgICAgIGV2ZW50TmFtZSAgPSBtYXRjaFsxXVxuICAgICAgc2VsZWN0b3IgICA9IG1hdGNoWzJdXG5cbiAgICAgIGlmIHNlbGVjdG9yIGlzICcnXG4gICAgICAgIEBlbC5iaW5kKGV2ZW50TmFtZSwgbWV0aG9kKVxuICAgICAgZWxzZVxuICAgICAgICBAZWwub24oZXZlbnROYW1lLCBzZWxlY3RvciwgbWV0aG9kKVxuXG4gIHJlZnJlc2hFbGVtZW50czogLT5cbiAgICBmb3Iga2V5LCB2YWx1ZSBvZiBAZWxlbWVudHNcbiAgICAgIEBbdmFsdWVdID0gQCQoa2V5KVxuXG4gIGRlbGF5OiAoZnVuYywgdGltZW91dCkgLT5cbiAgICBzZXRUaW1lb3V0KEBwcm94eShmdW5jKSwgdGltZW91dCB8fCAwKVxuXG4gICMga2VlcCBjb250cm9sbGVycyBlbGVtZW50cyBvYmogaW4gc3luYyB3aXRoIGl0IGNvbnRlbnRzXG5cbiAgaHRtbDogKGVsZW1lbnQpIC0+XG4gICAgQGVsLmh0bWwoZWxlbWVudC5lbCBvciBlbGVtZW50KVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIGFwcGVuZDogKGVsZW1lbnRzLi4uKSAtPlxuICAgIGVsZW1lbnRzID0gKGUuZWwgb3IgZSBmb3IgZSBpbiBlbGVtZW50cylcbiAgICBAZWwuYXBwZW5kKGVsZW1lbnRzLi4uKVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIGFwcGVuZFRvOiAoZWxlbWVudCkgLT5cbiAgICBAZWwuYXBwZW5kVG8oZWxlbWVudC5lbCBvciBlbGVtZW50KVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4gIHByZXBlbmQ6IChlbGVtZW50cy4uLikgLT5cbiAgICBlbGVtZW50cyA9IChlLmVsIG9yIGUgZm9yIGUgaW4gZWxlbWVudHMpXG4gICAgQGVsLnByZXBlbmQoZWxlbWVudHMuLi4pXG4gICAgQHJlZnJlc2hFbGVtZW50cygpXG4gICAgQGVsXG5cbiAgcmVwbGFjZTogKGVsZW1lbnQpIC0+XG4gICAgZWxlbWVudCA9IGVsZW1lbnQuZWwgb3IgZWxlbWVudFxuICAgIGVsZW1lbnQgPSAkLnRyaW0oZWxlbWVudCkgaWYgdHlwZW9mIGVsZW1lbnQgaXMgXCJzdHJpbmdcIlxuICAgICMgcGFyc2VIVE1MIGlzIGluY29tcGF0aWJsZSB3aXRoIFplcHRvXG4gICAgW3ByZXZpb3VzLCBAZWxdID0gW0BlbCwgJCgkLnBhcnNlSFRNTChlbGVtZW50KT9bMF0gb3IgZWxlbWVudCldXG4gICAgcHJldmlvdXMucmVwbGFjZVdpdGgoQGVsKVxuICAgIEBkZWxlZ2F0ZUV2ZW50cyhAZXZlbnRzKVxuICAgIEByZWZyZXNoRWxlbWVudHMoKVxuICAgIEBlbFxuXG4jIFV0aWxpdGllcyAmIFNoaW1zXG5cbiQgPSB3aW5kb3c/LmpRdWVyeSBvciB3aW5kb3c/LlplcHRvIG9yIChlbGVtZW50KSAtPiBlbGVtZW50XG5cbmNyZWF0ZU9iamVjdCA9IE9iamVjdC5jcmVhdGUgb3IgKG8pIC0+XG4gIEZ1bmMgPSAtPlxuICBGdW5jLnByb3RvdHlwZSA9IG9cbiAgbmV3IEZ1bmMoKVxuXG5pc0FycmF5ID0gKHZhbHVlKSAtPlxuICBPYmplY3Q6OnRvU3RyaW5nLmNhbGwodmFsdWUpIGlzICdbb2JqZWN0IEFycmF5XSdcblxuaXNCbGFuayA9ICh2YWx1ZSkgLT5cbiAgcmV0dXJuIHRydWUgdW5sZXNzIHZhbHVlXG4gIHJldHVybiBmYWxzZSBmb3Iga2V5IG9mIHZhbHVlXG4gIHRydWVcblxubWFrZUFycmF5ID0gKGFyZ3MpIC0+XG4gIEFycmF5OjpzbGljZS5jYWxsKGFyZ3MsIDApXG5cbiMgR2xvYmFsc1xuXG5TcGluZSA9IEBTcGluZSAgID0ge31cbm1vZHVsZT8uZXhwb3J0cyAgPSBTcGluZVxuXG5TcGluZS52ZXJzaW9uICAgID0gJzEuMi4wJ1xuU3BpbmUuaXNBcnJheSAgICA9IGlzQXJyYXlcblNwaW5lLmlzQmxhbmsgICAgPSBpc0JsYW5rXG5TcGluZS4kICAgICAgICAgID0gJFxuU3BpbmUuRXZlbnRzICAgICA9IEV2ZW50c1xuU3BpbmUuTG9nICAgICAgICA9IExvZ1xuU3BpbmUuTW9kdWxlICAgICA9IE1vZHVsZVxuU3BpbmUuQ29udHJvbGxlciA9IENvbnRyb2xsZXJcblNwaW5lLk1vZGVsICAgICAgPSBNb2RlbFxuXG4jIEdsb2JhbCBldmVudHNcblxuTW9kdWxlLmV4dGVuZC5jYWxsKFNwaW5lLCBFdmVudHMpXG5cbiMgSmF2YVNjcmlwdCBjb21wYXRhYmlsaXR5XG5cbk1vZHVsZS5jcmVhdGUgPSBNb2R1bGUuc3ViID1cbiAgQ29udHJvbGxlci5jcmVhdGUgPSBDb250cm9sbGVyLnN1YiA9XG4gICAgTW9kZWwuc3ViID0gKGluc3RhbmNlcywgc3RhdGljcykgLT5cbiAgICAgIGNsYXNzIFJlc3VsdCBleHRlbmRzIHRoaXNcbiAgICAgIFJlc3VsdC5pbmNsdWRlKGluc3RhbmNlcykgaWYgaW5zdGFuY2VzXG4gICAgICBSZXN1bHQuZXh0ZW5kKHN0YXRpY3MpIGlmIHN0YXRpY3NcbiAgICAgIFJlc3VsdC51bmJpbmQ/KClcbiAgICAgIFJlc3VsdFxuXG5Nb2RlbC5zZXR1cCA9IChuYW1lLCBhdHRyaWJ1dGVzID0gW10pIC0+XG4gIGNsYXNzIEluc3RhbmNlIGV4dGVuZHMgdGhpc1xuICBJbnN0YW5jZS5jb25maWd1cmUobmFtZSwgYXR0cmlidXRlcy4uLilcbiAgSW5zdGFuY2VcblxuU3BpbmUuQ2xhc3MgPSBNb2R1bGVcbiJdfQ==

*/
